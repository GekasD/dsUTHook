<div align="center">
    <img src="assets/icon.png" />
    <h1>dsUTHook</h1>
    <p>Ένα απλό εργαλείο που στέλνει τα νέα του <a href="https://ds.uth.gr/">ΤΨΣ (ΠΘ)</a> σε Discord Webhooks.</p>
</div>

## Σχετικά
Το πρόγραμμα έχει γραφτεί για να εξυπηρετήσει τους τωρινούς και μελλοντικούς φοιτητές του [Τμήματος Ψηφιακών Συστημάτων (Πανεπιστημίου Θεσσαλίας)](https://ds.uth.gr/), μία λύση στο θέμα τον ειδοποιήσεων ήταν το [UthMe](https://play.google.com/store/apps/details?id=com.ribben.uth_university.uthuniversity), αλλά δυστυχώς δεν τρέχει στον υπολογιστή και δεν χρησιμοποιούν όλοι συνεχώς τα κινητά τους (και δεν υπάρχει πλέων). Το Discord είναι γνωστό στους περισσότερους φοιτητές και είναι συνήθως πάντα ανοιχτό στο παρασκήνιο του υπολογιστή, κάνοντας το ιδανικό για την δουλειά. 

## Το τέλος του UthMe
Η ομάδα του UthMe σταμάτησε να υποστηρίζει την εφαρμογή της και τώρα πλέον αυτή είναι η μόνη λύση που έχει μείνει στο θέμα των ανακοινώσεων. Διαβάστε την πλήρη ανακοίνωσή τους στο [Facebook τους](https://www.facebook.com/UthMe/posts/pfbid0hoKVBXPFT3aGzQp9HFpNcQbXZ9QhvyE4XYm7pAD31fECjUqrp6CJDdCWgAb8He2bl).

## Εγκατάσταση και εκτέλεση
**ΠΡΟΣΟΧΗ:** Για να τρέξουμε το πρόγραμμα θα χρειαστεί να εγκαταστήσουμε το [Node.js](https://nodejs.org/) στον υπολογιστή/server μας.
```sh
# Κατεβάζουμε το GitHub repository (πχ με το git) 
git clone https://github.com/GekasD/dsUTHook.git

# Μπαίνουμε στο φάκελο του repository
cd dsUTHook

# Κατεβάζουμε και εγκαθιστούμε τις απαραίτητες βιβλιοθήκες 
npm i

# Ρυθμίζουμε το config.json (Διαβάστε παρακάτω)

# Τρέχουμε το πρόγραμμα
node .
```

## Ενημέρωση
Απλά τρέχουμε την εντολή: `git pull` μέσα στο φάκελο του προγράμματος.

## Χρήση και ρύθμιση (config.json και παραμέτροι)
```json
{
    "webhook_url": "",
    "cron_string": "*/30 * * * *",
    "message": "@everyone 🚨 Νέα ανακοίνωση απο το τμήμα ψηφιακών συστημάτων! 🚨"
}
```
Απ' ότι βλέπουμε υπάρχουν αρκετές ρυθμίσεις αλλά μην φοβάστε, είναι όλες προαιρετικές εκτός απο το: **webhook_url**.

### webhook_url
Η μόνη υποχρεωτική ρύθμιση, το url το πέρνουμε φτιάχνοντας webhook σε ένα discord channel στον server μας.

### cron_string
Από μόνο του το πρόγραμμα είναι ρυθμισμένο να ελέγχει την σελίδα ανακοινώσεων κάθε 30 λεπτά για να αποφεύγουμε να "σπαμάρουμε" τους servers του Πανεπιστημίου, αυτό σημάινει ότι το αργότερο που θα πάρει να στήλει το webhook όταν βγαίνει ανακοίνωση είναι 30 λεπτά, στην πράξη αυτό είναι πολύ απίθανο, ο χρόνος ρυθμίζεται με [σύνταξη cron](https://crontab.guru/).

### message
Το μύνημα που θα σταλθεί (εμφανίζεται πάνω απο το embed), μπορεί όπως στο παράδειγμα από πάνω να χρησιμοποιηθεί για να κάνουμε tag κάποιον.

### footer
Λίγο κέιμενο που εμφανίζεται στο κάτω μέρος του embed.

### --initial (παράμετρος)
Η παράμετρος `--initial` αν οριστεί (πχ: `node . --initial`) θα στείλει την τελευταία ανακοίνωση όταν ξεκινήσει το πρόγραμμα, χρήσιμη για δοκιμές κατα την διάρκεια του development, στις υπόλοιπες περιπτώσεις να αγνοείται.

## Συμμετοχή
Αν θέλετε μπορείτε να κάνετε pull requests, θα τα αναλύω στον ελεύθερο μου χρόνο.

## Ιδιαίτερες ευχαριστίες
- **Φώτιος Κόκκορας**, Επίκουρος καθηγητής του τμήματος (Ενημέρωση του RSS της σελίδας για να περιέχει τις φωτογραφίες των ανακοινώσεων).

## Παράδειγμα εμφάνισης
<img src="assets/example.png" />